<app-navbar-option [isDeletePossible]="isDeletePossible"></app-navbar-option>
<main>
    <div id="list">

        <div *ngFor="let option of data" class="option" draggable="true" #optionDiv
            (dragstart)="onDragStart($event, option)" (dragover)="onDragOver($event)" (drop)="onDrop($event, option)"
            (click)="showDetail(optionDiv, option)">
            <p>{{option.name}}
                <!-- <span *ngIf="option.used != '0'">Utilisée dans {{option.used}}</span>
                <span *ngIf="option.used == '0'">Non utilisée</span> -->
            </p>
        </div>

    </div>
    <div id="detail" *ngIf="isDetail">
        <div class="head headList">
            <input type="text" class="name" name="" id="" [value]="displayList.name">
            <div class="icons">
                <button><img src="/assets/icons/trash.svg" alt=""></button>
                <button (click)="hideDetail()"><img src="/assets/icons/close.svg" alt=""></button>
            </div>
        </div>
        <div class="minMax">
            <label>Min. sélections</label>
            <label>Miax. sélections</label>
            <input type="number" name="" id="" [value]="displayList.min_selections">
            <input type="number" name="" id="" [value]="displayList.max_selections">

        </div>
        <div class="tableau">
            <div class="head">
                <label class="name">Nom</label>
                <label class="price">Prix</label>
                <label class="ref">Code ref</label>
                <label class="small">Activée</label>
                <label class="small">Variantes</label>
                <label class="small">Défaut</label>
            </div>
            <div class="data" *ngFor="let oneOption of displayList.options;  let i = index" draggable="true"
                #oneOptionDiv (dragstart)="onDragStartOption($event, oneOption)" (dragover)="onDragOverOption($event)"
                (drop)="onDropOption($event, oneOption, i)">
                <input class="name" type="text" value="{{oneOption.name}}">
                <input class="price" type="text" value="{{oneOption.price}}">
                <input class="ref" type="text" value="{{oneOption.ref}}">

                <div class="small">
                    <input type="checkbox" name="" id="" [checked]="oneOption.afficher">
                </div>
                <p class="small"></p>
                <div class="small">
                    <input type="checkbox" name="" id="" [checked]="oneOption.default">
                </div>
                <div class="small icons">
                    <img src="/assets/icons/trash.svg" alt="">
                    <img src="/assets/icons/drag.svg" class="drag" alt="">
                </div>
            </div>
        </div>
        <div class="block new" (click)="newOption()">
            <img src="/assets/icons/add.svg" alt="">
            <p>Nouvelle option</p>
        </div>
    </div>
</main>